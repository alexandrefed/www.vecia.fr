---
/**
 * Test Page: Lead Capture Form
 *
 * URL: http://localhost:4321/test-lead-capture
 *
 * Tests:
 * - Form field validation
 * - Submit button states (idle, loading, success, error)
 * - Mobile responsiveness
 * - Translation accuracy
 * - Privacy notice visibility
 */

import LeadCaptureForm from '../components/LeadCaptureForm.astro';
import '../styles/global.css';
---

<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Test: Lead Capture Form - Vecia</title>

  <!-- Alpine.js (npm version) -->
  <script src="/src/scripts/alpine.ts"></script>
</head>

<body class="font-body text-text bg-background">
  <!-- Test Header -->
  <div class="bg-gradient-to-r from-primary to-secondary text-white py-4">
    <div class="container mx-auto px-6">
      <h1 class="text-2xl font-heading font-bold">üß™ Test: Lead Capture Form</h1>
      <p class="text-sm opacity-90 mt-1">Component test page - French version</p>
    </div>
  </div>

  <!-- Component Under Test -->
  <LeadCaptureForm lang="fr" />

  <!-- Test Instructions -->
  <div class="container mx-auto px-6 py-12 max-w-4xl">
    <div class="bg-gray-50 rounded-xl p-8 border-2 border-gray-200">
      <h2 class="text-2xl font-heading font-bold mb-6">üìã Test Checklist</h2>

      <div class="space-y-6">
        <!-- Visual Design -->
        <div>
          <h3 class="font-bold text-lg mb-3">üé® Visual Design</h3>
          <ul class="space-y-2 text-sm">
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Gradient background visible (primary ‚Üí secondary ‚Üí accent1, 5% opacity)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>White card container with soft shadow and rounded corners (16px)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Headline readable and properly sized (text-3xl md:text-4xl)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Privacy notice visible with lock icon üîí</span>
            </li>
          </ul>
        </div>

        <!-- Form Fields -->
        <div>
          <h3 class="font-bold text-lg mb-3">üìù Form Fields</h3>
          <ul class="space-y-2 text-sm">
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>All 3 fields visible: Pr√©nom & Nom, Email Professionnel, Taille de l'entreprise</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Required asterisks (*) in purple/secondary color</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Dropdown shows all 4 company size options (1-10, 11-50, 51-200, 200+)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Placeholders in French and clearly visible</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Focus states work (blue border on click/tap)</span>
            </li>
          </ul>
        </div>

        <!-- Interactivity -->
        <div>
          <h3 class="font-bold text-lg mb-3">‚ö° Interactivity</h3>
          <ul class="space-y-2 text-sm">
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Submit button shows gradient (primary ‚Üí secondary)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Hover effect: button scales slightly (1.02x) and shows shadow</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Required field validation (try submitting empty form)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Email validation (try invalid email format)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Loading state shows spinner when submitting</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Success message appears after submission (green background)</span>
            </li>
          </ul>
        </div>

        <!-- Mobile Responsiveness -->
        <div>
          <h3 class="font-bold text-lg mb-3">üì± Mobile Responsiveness</h3>
          <ul class="space-y-2 text-sm">
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Test on mobile viewport (375px width minimum)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Form fields stack vertically with proper spacing</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Button full-width on mobile</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Text remains readable (no zoom required)</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Touch targets large enough (48px height)</span>
            </li>
          </ul>
        </div>

        <!-- Translations -->
        <div>
          <h3 class="font-bold text-lg mb-3">üåç Translations (French)</h3>
          <ul class="space-y-2 text-sm">
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Headline: "Pas Encore Pr√™t pour un Appel ? Commencez avec Notre √âvaluation Gratuite"</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Button: "Obtenir Mon √âvaluation Gratuite"</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Privacy: "üîí Nous respectons votre vie priv√©e. D√©sinscription √† tout moment."</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-primary">‚ñ°</span>
              <span>Success: "Merci ! V√©rifiez votre email pour recevoir votre √©valuation."</span>
            </li>
          </ul>
        </div>
      </div>

      <!-- Test Data -->
      <div class="mt-8 p-6 bg-yellow-50 border-2 border-yellow-200 rounded-lg">
        <h3 class="font-bold text-lg mb-3">üîß Test Data</h3>
        <p class="text-sm mb-3">Use this data to test form submission:</p>
        <div class="space-y-2 text-sm font-mono bg-white p-4 rounded border">
          <p><strong>Name:</strong> Jean Dupont</p>
          <p><strong>Email:</strong> jean.dupont@example.com</p>
          <p><strong>Company Size:</strong> 11-50 employ√©s</p>
        </div>
        <p class="text-xs text-yellow-800 mt-3">
          ‚ö†Ô∏è Note: Form submission is currently set to placeholder URL. Configure Google Sheets webhook in component code.
        </p>
      </div>

      <!-- English Version Link -->
      <div class="mt-8 text-center">
        <a
          href="/en/test-lead-capture"
          class="inline-block px-6 py-3 bg-gradient-to-r from-primary to-secondary text-white font-bold rounded-full hover:shadow-lg transition-all"
        >
          View English Version ‚Üí
        </a>
      </div>
    </div>
  </div>

  <!-- Footer Note -->
  <div class="bg-gray-100 border-t border-gray-200 py-8">
    <div class="container mx-auto px-6 text-center text-sm text-gray-600">
      <p>
        <strong>Next Steps:</strong> Set up Google Apps Script webhook ‚Üí
        <a href="#" class="text-primary hover:underline">View Setup Guide</a>
      </p>
    </div>
  </div>
</body>
</html>
